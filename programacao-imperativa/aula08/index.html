<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <title>Cálculo IMC</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <h1>Cálculo IMC</h1>
  
    <p>IMC é a sigla para Índice de Massa Corpórea, parâmetro adotado pela Organização Mundial de Saúde para calcular o peso ideal de cada pessoa.</p>
    <p>O índice é calculado da seguinte maneira: divide-se o peso do paciente pela sua altura elevada ao quadrado. Diz-se que o indivíduo tem peso normal quando o resultado do IMC está entre 18,5 e 24,9.</p>
    <p>Quer descobrir seu IMC? Insira seu peso e sua altura nos campos abaixo e compare com os índices da tabela. Importante: siga os exemplos e use pontos como separadores.</p>
    <br><br>
    <button onclick="iniciarAppIMC()">Calcular IMC</button>


    <script type="text/javascript">

        // Variáveis
        var nome, idade, peso, altura, imc, diaDaSemana, hora, confimacao, horarioMarcado = null;
        var despedida = 'Muito obrigado por usar o nosso aplicativo!'
        

        // Inserir Dados
        function inserirDados(){
            nome = prompt('Qual é o seu nome?');
            peso = prompt(`Qual é o seu peso?`);
            altura = prompt(`Qual é sua altura?`);
        }

        // Calcula o imc
        function calculaImc() {
            imc = Math.round(peso / (altura * altura));
            alert(`Seu IMC é ${imc}`);
        }

        // Define a classificação do Imc
        function informaClassificacao() {
            if (imc < 18.5) {
                alert('Seu IMC está na classificação Magreza, com grau de obesidade 0.'); 
                alert(despedida);
            }
            else if (imc > 18.5 && imc < 24.9){
                alert('Seu IMC está na classificação Normal, com grau de obesidade 0.');
                alert(despedida);
            }
            else if (imc > 25.0 && imc < 29.9){
                alert('Seu IMC está na classificação Sobrepeso, com grau de obesidade I.'); 
                marcarNutricionista();
            }
            else if (imc > 30.0 && imc < 39.9){
                alert('Seu IMC está na classificação Obesidade, com grau de obesidade II.');
                marcarNutricionista();
            }
            else {
                alert('Seu IMC está na classificação Obesidade grave, com grau de obesidade III.');
                marcarNutricionista();
            }
        }

        //Marcar Nutricionoista
        function marcarNutricionista(){
            confimacao = window.confirm(`Olá ${nome} você gostaria de marcar uma consulta na Nutricionista?`);

            if (confimacao){
                diaDaSemana = prompt('Qual dia da semana você gostaria de marcar?');
                hora = prompt('Qual horário você gostaria de consultar?');

                horarioMarcado = window.confirm(`Você confirma que sua consulta é na ${diaDaSemana} às ${hora} horas ?`)
                
                if(horarioMarcado){
                    alert(`Obrigada ${nome}, sua consulta esta confirmada para ${diaDaSemana} às ${hora} horas, com o Dra. Luana Nagydai.`)
                    
                } else{

                    marcarNutricionista()
                }

            } else{

                alert(despedida)
            }
        }

        // Inicia as funções do app
        function iniciarAppIMC(){
            inserirDados();
            calculaImc();
            informaClassificacao();
        }
        
    </script>
</body>

</html>